FROM python:3.6.6-alpine3.8

RUN apk update && \
         apk add \
         curl \
         less \
         vim \
         make \
         bash 

RUN apk add python3-dev \
         gcc \
         musl-dev \
         postgresql-dev \
         postgresql-libs

ENV DIRPATH /opt/{{ project_name }}
LABEL "application"="{{ project_name }}-web"
RUN mkdir -p $DIRPATH/{{ project_name }}-web
WORKDIR $DIRPATH/{{ project_name }}-web
COPY . .
RUN pip install -U pip \
  && pip install -r requirements.txt
